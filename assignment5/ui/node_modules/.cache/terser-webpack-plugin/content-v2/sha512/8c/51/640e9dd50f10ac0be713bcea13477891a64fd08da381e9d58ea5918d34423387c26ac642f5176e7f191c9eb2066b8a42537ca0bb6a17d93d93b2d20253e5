{"code":"!function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t,r){\"use strict\";function a(e,t,r,a,n,c,o){try{var u=e[c](o),l=u.value}catch(e){return void r(e)}u.done?t(l):Promise.resolve(l).then(a,n)}function n(e){return function(){var t=this,r=arguments;return new Promise((function(n,c){var o=e.apply(t,r);function u(e){a(o,n,c,u,l,\"next\",e)}function l(e){a(o,n,c,u,l,\"throw\",e)}u(void 0)}))}}function c(e){return(c=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}function i(e,t){return!t||\"object\"!==c(t)&&\"function\"!=typeof t?d(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function m(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=e.products.map((function(e){return React.createElement(b,{key:e.id,product:e})}));return React.createElement(\"table\",{className:\"bordered-table\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",{className:\"bordered-table\"},\"Product Name\"),React.createElement(\"th\",{className:\"bordered-table\"},\"Price\"),React.createElement(\"th\",{className:\"bordered-table\"},\"Category\"),React.createElement(\"th\",{className:\"bordered-table\"},\"Image\"))),React.createElement(\"tbody\",null,t))}function b(e){var t=e.product;return React.createElement(\"tr\",null,React.createElement(\"td\",{className:\"bordered-table\"},t.productName),React.createElement(\"td\",{className:\"bordered-table\"},\"$\".concat(t.pricePerUnit)),React.createElement(\"td\",{className:\"bordered-table\"},t.category),React.createElement(\"td\",{className:\"bordered-table\"},\" \",React.createElement(\"a\",{href:t.imageUrl,rel:\"noopener noreferrer\",target:\"_blank\"},\"View\")))}var y=function(e){function t(){var e;return o(this,t),(e=i(this,s(t).call(this))).handleSubmit=e.handleSubmit.bind(d(e)),e}return m(t,React.Component),l(t,[{key:\"handleSubmit\",value:function(e){e.preventDefault();var t=document.forms.productAdd,r={category:t.category.value,pricePerUnit:t.pricePerUnit.value.replace(\"$\",\"\"),productName:t.productName.value,imageUrl:t.imageUrl.value};this.props.createProduct(r),t.category.value=\"Shirts\",t.pricePerUnit.value=\"$\",t.productName.value=\"\",t.imageUrl.value=\"\"}},{key:\"render\",value:function(){return React.createElement(\"form\",{id:\"inventoryForm\",name:\"productAdd\",onSubmit:this.handleSubmit},React.createElement(\"table\",{className:\"formTable\"},React.createElement(\"tbody\",null,React.createElement(\"tr\",null,React.createElement(\"td\",{className:\"formTableData\"},\"Category\"),React.createElement(\"td\",{className:\"formTableData\"},\"Price Per Unit\")),React.createElement(\"tr\",null,React.createElement(\"td\",{className:\"formTableData\"},React.createElement(\"select\",{id:\"categoryList\",name:\"category\"},React.createElement(\"option\",{value:\"Shirts\"},\"Shirts\"),React.createElement(\"option\",{value:\"Jeans\"},\"Jeans\"),React.createElement(\"option\",{value:\"Jackets\"},\"Jackets\"),React.createElement(\"option\",{value:\"Sweaters\"},\"Sweaters\"),React.createElement(\"option\",{value:\"Accessories\"},\"Accessories\"))),React.createElement(\"td\",{className:\"formTableData\"},React.createElement(\"input\",{type:\"text\",name:\"pricePerUnit\",defaultValue:\"$\"}))),React.createElement(\"tr\",null,React.createElement(\"td\",{className:\"formTableData\"},\"Product Name\"),React.createElement(\"td\",{className:\"formTableData\"},\"Image URL\")),React.createElement(\"tr\",null,React.createElement(\"td\",{className:\"formTableData\"},React.createElement(\"input\",{type:\"text\",name:\"productName\"})),React.createElement(\"td\",{className:\"formTableData\"},React.createElement(\"input\",{type:\"text\",name:\"imageUrl\"}))))),React.createElement(\"button\",{id:\"addButton\",type:\"submit\"},\"Add Product\"))}}]),t}();function v(e,t){return t}function R(e){return h.apply(this,arguments)}function h(){return(h=n(regeneratorRuntime.mark((function e(t){var r,a,n,c,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.prev=1,e.next=4,fetch(window.ENV.UI_API_ENDPOINT,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({query:t,variables:r})});case 4:return a=e.sent,e.next=7,a.text();case 7:return n=e.sent,c=JSON.parse(n,v),e.abrupt(\"return\",c.data);case 12:e.prev=12,e.t0=e.catch(1),alert(\"Error in sending data to server: \".concat(e.t0.message));case 15:case\"end\":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}var E=function(e){function t(){var e;return o(this,t),(e=i(this,s(t).call(this))).state={products:[]},e.createProduct=e.createProduct.bind(d(e)),e}var r,a;return m(t,React.Component),l(t,[{key:\"componentDidMount\",value:function(){this.loadData()}},{key:\"createProduct\",value:(a=n(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,R(\"mutation productAdd($product: ProductInputs!) {\\n\\tproductAdd(product: $product) { id } }\",{product:t});case 3:e.sent&&this.loadData();case 5:case\"end\":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:\"loadData\",value:(r=n(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,R(\"query {\\n\\t\\t\\tproductList {\\n\\t\\t\\t\\tid category productName pricePerUnit imageUrl\\n\\t\\t\\t}\\n\\t\\t}\");case 3:(t=e.sent)&&this.setState({products:t.productList});case 5:case\"end\":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:\"render\",value:function(){return React.createElement(React.Fragment,null,React.createElement(\"h1\",null,\"My Company Inventory\"),React.createElement(\"div\",{id:\"tableHeader\"},\"Showing all available products\"),React.createElement(\"hr\",{align:\"left\"}),React.createElement(f,{products:this.state.products}),React.createElement(\"div\",{id:\"fieldsHeader\"},\"Add a new product to inventory\"),React.createElement(\"hr\",{align:\"left\"}),React.createElement(y,{createProduct:this.createProduct}))}}]),t}(),g=React.createElement(E,null);ReactDOM.render(g,document.getElementById(\"contents\"))}]);","extractedComments":[]}